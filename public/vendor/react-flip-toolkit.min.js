!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("flip-toolkit")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","flip-toolkit"],t):t((e=e||self).ReactFlipToolkit={},e.React,e.PropTypes,e.FlipToolkit)}(this,function(e,t,n,r){var i="default"in t?t.default:t;function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var l=t.createContext({}),s=t.createContext("portal"),a=function(e){var t,n;function p(){var t;return(t=e.apply(this,arguments)||this).inProgressAnimations={},t.flipCallbacks={},t.el=void 0,t}n=e,(t=p).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n);var a=p.prototype;return a.getSnapshotBeforeUpdate=function(e){return e.flipKey!==this.props.flipKey&&this.el?r.getFlippedElementPositionsBeforeUpdate({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},a.componentDidUpdate=function(e,t,n){this.props.flipKey!==e.flipKey&&this.el&&r.onFlipKeyUpdate({flippedElementPositionsBeforeUpdate:n.flippedElementPositions,cachedOrderedFlipIds:n.cachedOrderedFlipIds,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{previous:e.decisionData,current:this.props.decisionData},onComplete:this.props.onComplete,onStart:this.props.onStart})},a.render=function(){var e=this,t=this.props,n=t.portalKey,r=i.createElement(l.Provider,{value:this.flipCallbacks},i.createElement(t.element,{className:t.className,ref:function(t){return e.el=t}},this.props.children));return n&&(r=i.createElement(s.Provider,{value:n},r)),r},p}(t.Component);a.defaultProps={applyTransformOrigin:!0,element:"div"};var c=["children","flipId","inverseFlipId","portalKey"],d=["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onStartImmediate","onComplete","onExit","onSpringUpdate","shouldFlipIgnore"],u=function(e){var n,i=e.children,o=e.flipId,l=e.inverseFlipId,s=e.portalKey,a=p(e,c),d=i,u=function(e){return"function"==typeof e}(d);if(!u)try{d=t.Children.only(i)}catch(e){throw new Error("Each Flipped component must wrap a single child")}a.scale||a.translate||a.opacity||r.utilities.assign(a,{translate:!0,scale:!0,opacity:!0});var f=((n={})[r.constants.DATA_FLIP_CONFIG]=JSON.stringify(a),n);return void 0!==o?f[r.constants.DATA_FLIP_ID]=String(o):l&&(f[r.constants.DATA_INVERSE_FLIP_ID]=String(l)),void 0!==s&&(f[r.constants.DATA_PORTAL_KEY]=s),u?d(f):t.cloneElement(d,f)},f=function(e){var t=e.children,n=e.flipId,o=e.shouldFlip,a=e.shouldInvert,c=e.onAppear,f=e.onStart,h=e.onStartImmediate,m=e.onComplete,y=e.onExit,g=e.onSpringUpdate,I=e.shouldFlipIgnore,v=p(e,d);return t?v.inverseFlipId?i.createElement(u,Object.assign({},v),t):i.createElement(s.Consumer,null,function(e){return i.createElement(l.Consumer,null,function(p){return r.utilities.isObject(p)&&n&&(p[n]={shouldFlip:o,shouldInvert:a,onAppear:c,onStart:f,onStartImmediate:h,onComplete:m,onExit:y,onSpringUpdate:g,shouldFlipIgnore:I}),i.createElement(u,Object.assign({flipId:n},v,{portalKey:e}),t)})}):null};f.displayName="Flipped",e.ExitContainer=function(e){var n;return t.cloneElement(e.children,((n={})[r.constants.DATA_EXIT_CONTAINER]=!0,n))},e.Flipped=f,e.Flipper=a,e.spring=r.spring});
//# sourceMappingURL=index.umd.js.map
