@import "variables"
@import "compass/css3/transform"
@import "compass/css3/transition"

// PROPOSAL DESCRIPTION
// High level styling for the description of a proposal
$description_animation_time: 500ms
.proposal-description-region
  +transition(transform $description_animation_time)

[state="summary"]
  .proposal-description-region
    +translateX(-$dialog_stutter)
    // the following is because translateX effectively creates a different rendering context, so need to set z-index/position so admin menu will work
    position: relative
    z-index: 2

  &.transitioning
    .proposal-description-region
      +translateX(0)

.proposal_description_view
  position: relative



// Proposal proposer is the avatar of the user who submitted the proposal
.proposal_proposer
  text-align: right
  width: $body_gutter
  bottom: 0px
  position: absolute

  [action="user_profile_page"]
    opacity: .9
    display: inline-block
    margin-right: 2 * $grid_gutter

    &:hover
      opacity: 1

  img
    width: $proposer_img_size // - 30
    vertical-align: bottom 


// Where all the description content goes
.proposal_description_main
  //left: -$dialog_stutter
  position: relative
  margin: auto
  width: $body_width

// The summary heading that is shown on the homepage
.proposal_heading
  margin: auto
  position: relative
  padding: $vertical_baseline / 2 $grid_gutter
  //left: -$dialog_stutter
  min-height: $proposer_img_size
  +font-size(3)

  p
    margin-bottom: $vertical_baseline / 2
  td
    padding: 0 3px

[state="results"], [state="crafting"]
  
  .proposal_heading
    border-radius: 16px 16px 0px 0px

    > .t-bubble
      display: none

[state="summary"]
  .proposal_heading
    cursor: pointer


// The proposal details revealed 
.proposal-details
  position: relative
  padding: $vertical_baseline / 2 $grid_gutter

  .proposal_description_body br
    padding-bottom: $vertical_baseline/2

  .proposal_description_body.editable
    min-height: 80px

  .proposal_additional_details
    margin-top: $vertical_baseline / 2

    .hidden, .showing
      text-decoration: underline

    .proposal_detail_field_body
      p
        margin-bottom: $vertical_baseline/2

      h1, h3
        margin: $vertical_baseline/4 0

      h1
        +font-size(2)
      h3
        +font-size(1)
      ul
        padding-left: $grid_gutter

  // additional links
  .proposal-links
    position: absolute
    right: -$body_gutter //- $grid_gutter - 1
    bottom: $vertical_baseline / 2
    padding: $vertical_baseline/2 $grid_gutter/2
    width: $body_gutter

  .proposal-url-field
    a
      text-decoration: underline


[state="summary"]
  .proposal-details
    > .t-bubble
      display: none



