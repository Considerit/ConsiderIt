//////////////////////////////////////////
// USER MODULES
//////////////////////////////////////////


// user nav

#m-user-nav
  position: relative
  text-align: right
  z-index: 999
  padding: $vertical_baseline/4 $grid_xs/2
  right: 0
  float: right

.m-login, .m-user-options
  display: inline-block

.m-login, .m-user-options-display
  @extend %on_header_footer

.m-login a, .m-user-options-display a
  +font-size(-1)
  font-weight: bold

.m-user-options
  cursor: pointer
  position: relative

  .m-user-options-display
    a, a:hover
      color: inherit

    img
      vertical-align: middle 
      margin: 2px 0 0px 15px
      width: $vertical_baseline * 1.5
      height: $vertical_baseline * 1.5
      display: inline-block
  

  .m-user-options-menu-wrap
    display: none
    position: absolute
    right: -$grid_minor

  .m-user-options-menu
    min-width: 140px
    @extend %nude_list
    margin-left: 0
    display: inline-block
    +single-box-shadow($hoff: 0, $voff: 5px, $blur: 10px)
    border-radius: 5px
    background-color: $base_bg_color
    padding: $vertical_baseline / 4 0
    border: 1px solid darken($base_bg_color, 20%)

    a
      width: 100%
      padding: 2px $grid_minor
      display: block
      cursor: pointer
      +font-size(-3)
      font-weight: bold
      &:hover
        color: $comp_text_color
        background-color: $dark_comp_color



// signin / registration overlay


.auth_overlay
  width: 670px

.m-user-accounts-auth-options-region
  margin-top: $vertical_baseline

  .m-user-accounts-auth-options-header
    +font-size(-1)
    color: #666
    margin-bottom: $vertical_baseline/2

  .m-user-accounts-auth-options
    @extend %nude_list
    padding-bottom: $vertical_baseline

    .m-user-accounts-login-option
      margin-bottom: $vertical_baseline/4
      //display: inline
      margin-right: $grid_xs
      position: relative
      +font-size(-1)
      .zocial
        width: 125px

      &.hide
        display: none

  .m-user-accounts-switch-method-wrapper
    a span
      text-decoration: underline  


$avatar_preview_height: 120px
$membership_card_width: 450px
$membership_card_height: 278px


.m-user-accounts-email-auth-region, .m-user-accounts-auth-options-region
  display: inline-block
  vertical-align: top

.m-user-accounts-layout-not-fixed

  .m-user-accounts-email-auth-region
    width: 66%
    padding-right: $grid_xs
    border-right: 1px solid #eaeaea

  .m-user-accounts-auth-options-region
    width: 31%
    padding-left: $grid_xs


.m-user-accounts-email-auth-region, .m-user-accounts-complete-paperwork-form, .m-user-accounts-password-reset-form

  .email_field input, .password_field input
    +font-size(0)

  input[type="submit"], .m-user-accounts-register-next
    margin: $vertical_baseline 0
    @extend %superbutton
    +font-size(0)

  .email_field.fixed
    text-align: left
    padding-left: 3px

    input
      display: none  

.m-user-accounts-email-auth-region
  .m-user-account-auth-question
    font-weight: bold
    margin: $vertical_baseline / 2 0

  .m-user-accounts-no-account, .m-user-accounts-has-account
    margin: $vertical_baseline/2 0 $vertical_baseline $grid_minor

  .m-user-account-password
    margin: $vertical_baseline/4 0 0 $grid_xs

  .email_field input, .password_field input
    +font-size(1)
    padding: 1px 2px

  .email_field, .password_field
    position: relative
    margin-bottom: $vertical_baseline/2

    label
      // width: 70px
      // text-align: right
      display: inline-block

    input.error
      border-color: red

  .forget_password_prompt
    +font-size(-3)
    display: block
    margin-left: 18px
    &:hover
      text-decoration: underline


#l-dialog-detachable 
  .m-user-accounts-complete-paperwork-form
    input[type="text"], input[type="email"], input[type="password"], textarea
      width: 100%
      &.ui-state-valid
        border-color: transparent
        background-color: transparent
        color: $initiator_text_color

.m-user-accounts-complete-paperwork-form
  .m-user-accounts-form
    margin: auto

  .m-user-accounts-form-fields-wrap
    width: $membership_card_width
    
    box-shadow: 0 1px 2px rgba(black, .35), inset 0 0 8px 2px rgba(white, .5)
    background-color: $initiator_color

    border-radius: 5px
    border: 1px solid $dark_initiator_color
    border-top-color: lighten($dark_initiator_color, 15%)
    border-bottom-color: darken($dark_initiator_color, 15%)
    padding: $vertical_baseline $grid_xs
    margin: $vertical_baseline auto 0 auto

    color: $initiator_text_color

    .m-user-accounts-form-fields-text
      width: $membership_card_width - $avatar_preview_height - $grid_xs * 3
      float: right
      min-height: 200px

    label
      +font-size(-2)
      text-align: left
      float: left

    .email_field input, .password_field input
      +font-size(0)



    .name_field input
      +font-size(4)
      font-weight: bold


    .m-user-accounts-authorized-feedback
      a, button
        +font-size(-3)
      vertical-align: top
      text-align: left
      margin-top: $vertical_baseline / 2

    .m-user-accounts-pledge-taken
      display: none
      text-align: left

    // this is overriding some CSS from the jquery.fileinput plugin
    .avatar_field
      float: left
      width: $avatar_preview_height + 2
      .customfile
        background: transparent
        width: $avatar_preview_height + 2
        border: none

      .customfile-preview-wrap
        width: $avatar_preview_height
        height: $avatar_preview_height
        overflow: hidden
        border: 1px solid #333
        border-radius: 5px
        background-color: rgba(black, .25)      
        img.customfile-preview
          height: $avatar_preview_height

      .customfile-button
        float: none
        +font-size(-2)
        text-decoration: underline

      .customfile-feedback
        display: none

      .import_from_third_party
        display: none
        span, a
          +font-size(-4)          

  .m-user-accounts-complete-paperwork-footer, .m-user-accounts-complete-paperwork-pledge
    margin: $vertical_baseline auto      

  .m-user-accounts-complete-paperwork-footer
    text-align: center

  .m-user-accounts-complete-paperwork-pledge
    margin-bottom: $vertical_baseline
    width: $membership_card_width

    ol
      text-align: left
      list-style: none

      li
        padding: 0 $grid_xs

        &:hover
          background-color: rgba(white, .25)

        label, input
          cursor: pointer
          padding: $vertical_baseline / 2 0


  .m-user-accounts-tos
    span, p, a, li
      +font-size(-2)

    .m-user-terms-show
      text-decoration: underline



