@import "variables"
@import "library"
@import "compass/css3/box-shadow"

.point
  position: relative
  list-style: none outside none

  .point-close
    display: none

  .point-wrap
    position: relative
    display: inline-block

  &.point-peer, &.point-expanded
    .point-wrap
      padding: $vertical_baseline / 2 $grid_gutter / 2 
      margin-bottom: $vertical_baseline / 2


  &.point-position
    margin-left: $grid_gutter / 2

  &.point-unexpanded

  &.point-expanded
    position: relative
    z-index: 999
    // padding: $vertical_baseline $grid_gutter  
    width: $point-expanded-width + $point-avatar-width

    .point-close
      display: block
      position: absolute
      right: -11px
      top: -11px
      cursor: pointer

      i
        +font-size(2)

    .point-wrap
      width: $point-expanded-width - 3
      padding: $vertical_baseline 1.5 * $grid_gutter

    &.point-position
      &.con
        left: $point-width - $point-expanded-width + ($point-expanded-width - $body_width) / 2
      &.pro
        left: - ($point-expanded-width - $body_width) / 2

[data-state="points-separated"], [data-state="points-together"], [data-state="points-position"]
  .point-unexpanded
    cursor: pointer


.pointlist-browsing .peer-reasons
  &[data-state="points-separated"]
    .point-expanded.con.point-peer
      right: $point-expanded-width - $point-width + 56 - $expanded_points_increment

.peer-reasons

  &[data-state="points-together"]
    .point-expanded.con.point-peer
      right: $point-expanded-width - $point-width

  &[data-state="points-separated"]
    .point-expanded.con.point-peer
      right: $point-expanded-width - $point-width + 56


  &[data-state="points-separated"]
    .point-unexpanded.point-peer .point-wrap
      +grab_cursor

  &[data-state="points-collapsed"]

    .point
      z-index: 5
      // .point-header-region
      //   display: none

.position-points
  // &[data-state="points-hidden"]
  //   display: none




/////////////////////////
// Point text

.point-unexpanded
  &.point-peer
    .point-nutshell
      +font-size(-1)

  &.point-position  
    .point-nutshell
      +font-size(-1)

  .point-details-description 
    display: none


.point-expanded
  .point-nutshell, .point-details-description
    padding-bottom: $vertical_baseline / 2

  .point-nutshell
    +font-size(4)
    //font-weight: bold

  .point-details-description 
    +font-size(0)

//////



//////////////////
// bullet points
.point-unexpanded.point-position
  padding: 0 $grid_gutter 4px $grid_gutter

  .point-nutshell-wrap
    &:before
      content: '\2022'
      position: absolute
      top: 0px
      +font-size(-3)

  &.pro .point-nutshell-wrap:before
    left: -13px

  &.con .point-nutshell-wrap:before
    left: -10px

/////////////

.point-unexpanded.point-position
  .point-author-avatar
    display: none

.point-expanded 
  .point-follow-region
    //margin-bottom: $vertical_baseline / 2

/////////////////////////////////////////
// point operations
.point-expanded, [data-state="points-collapsed"]
  .point-operations
    display: none

[data-state="points-together"], [data-state="points-separated"]
  .point-peer
    .point-operations
      visibility: hidden

    &:hover
      .point-operations
        visibility: visible

.point-unexpanded
  &.point-peer
    .point-operations        
      position: relative

      .point-read-more
        +font-size(-3)


    &.pro
      .point-operations
        text-align: left

    &.con
      .point-operations
        text-align: right

  &.point-position
    &:hover .point-operations
      visibility: visible

    .point-operations
      visibility: hidden
      padding: $vertical_baseline/8 $grid_gutter

      .point-read-more
        +font-size(-3)
        margin: 0
        padding: 1px 8px

    .point-remove
      margin-top: $grid_gutter/4
      padding: 0 $grid_gutter/2

      background: none
      border-color: transparent

  &.point-peer
    &:hover
      .point-operations a
        color: #666

///////////////////////////////////////

.point-action
  display: inline-block

  i
    padding-right: $grid_gutter / 4

/////////////////////////////////////////
// point inclusion button
.point-include-wrap
  display: none

[data-state="points-separated"] .point-peer.point-expanded
  .point-include-wrap
    display: inline-block

.point-expanded
  .point-wrap
    border: 1px solid
    border-color: #eaeaea #ddd #ccc #ddd


[data-state="points-separated"] .point-peer.point-unexpanded, .point-expanded
  .point-wrap
    border-radius: 8px

[data-state="points-separated"] .point-peer.point-unexpanded
  .point-wrap
    +single-box-shadow($color: rgba(black, .1), $voff: 1px)
    border: 1px solid
    border-color: #eaeaea #ddd #ccc #ddd

.point-expanded .point-wrap
  //+single-box-shadow($color: rgba(black, .25), $voff: 1px)
  //border-color: #777 #666 #555 #666


[data-state="points-collapsed"] .point-author-avatar
  //visibility: hidden

.point-author-avatar
  display: inline-block
  position: relative
  border-radius: 8px
  top: .7 * $vertical_baseline
  width: $point-avatar-width - 2
  height: $point-avatar-width - 2

.con .point-author-avatar
  float: right


[data-state="points-separated"], [data-state="points-together"]
  .point-unexpanded.point-peer
    &:hover
      .point-wrap
        background-color: white
        //+single-box-shadow($color: rgba(black, .2), $voff: 2px)


///////////
// Discussion
.point-discussion
  position: relative

.point-discussion-heading
  +font-size(2)
  margin: $vertical_baseline 0

.point-comments
  list-style: none outside none
////



