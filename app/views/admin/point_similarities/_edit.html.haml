#point_similarity
  = form_for [@option, @comparison] do |f|
    
    %h2
      How thematically similar are the arguments these points are making?
    
    #p1.point_to_be_compared
      = @p1.nutshell
      = @p1.text
    
    #p2.point_to_be_compared
      = @p2.nutshell
      = @p2.text
    
    .clear
    
    = f.hidden_field :value, :id => 'similarity_val'
    = f.hidden_field :p1_id, :value => @p1.id
    = f.hidden_field :p2_id, :value => @p2.id

    .slider_wrapper
      .slider_footer
        .left
          completely unrelated

        #similarity_slider

        .right
          basically the same
        .clear

    .current_value
      .vallabel.five
        The same argument, but perhaps with different wording.
      .vallabel.four
        Not the same argument, but engages the same theme (e.g. teachers in classroom).
      .vallabel.three
        Not related, but the themes are broadly related (e.g. education).
      .vallabel.two
        Different arguments, but with vague thematic similarities.
      .vallabel.one
        Express completely different arguments on completely different themes.

    .submit_buttons
      .left
        - if @current > 1
          = submit_tag "<< Prev"
      .right
        - if @current < @total_possible_comparisons
          = submit_tag "Next >>"
      .clear

    - if @total_compared >= @total_possible_comparisons
      .completed
        Congrats! You have coded all of the pairs for this measure.

    .progress
      viewing #{@current}/#{@total_possible_comparisons}
      %div
        (#{@total_compared} comparisons completed for #{@option.designator})

:javascript
  $j(function() {
    $j( "#similarity_slider" ).slider({
      value:#{@init_val},
      min: 1,
      max: 5,
      step: 1,
      slide: function( event, ui ) {
        $j( "#similarity_val" ).val( ui.value );
        $j( ".current_value .vallabel").hide();
        $j( ".current_value .vallabel." + {5:'five',4:'four',3:'three',2:'two',1:'one'}[ui.value] ).show();
      }
    });
    $j( "#similarity_val" ).val( $j( "#similarity_slider" ).slider( "value" ) );
    $j( ".current_value .vallabel").hide();
    $j( ".current_value .vallabel." + {5:'five',4:'four',3:'three',2:'two',1:'one'}[#{@init_val}] ).show();
  });