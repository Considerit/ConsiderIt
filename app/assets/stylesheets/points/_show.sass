
.point_in_list
  @include nude-list
  position: relative
  margin-bottom: 8px
  background-repeat: no-repeat
  border: 5px solid transparent

  > .extra
    visibility: hidden
    display: none

  > .body
    vertical-align: top
    //padding: 3px 10px 3px 10px
    position: relative

    .avatar
      display: none

    .nested_user
      font-style: italic

    .point_text.nutshell
      font-size: 13px
      color: #eee
      padding-bottom: 17px

      > .nested_user
        white-space: nowrap
        display: inline-block

    .point_text.full
      display: none
      font-size: 12pt

      > .nested_user
        font-size: 12pt

      p
        margin-bottom: 8px

      .link
        ul
          li 
            padding: 2px 0
            font-size: 12pt
            a
              text-decoration: underline

            .domain
              text-decoration: none

  .operations   
    position: absolute
    opacity: 0
    display: none
    text-align: right
    left: 0px
    bottom: 4px

    > div, > div > div
      display: inline-block
      &.pointform
        display: none
        
      a.point_operation, 
      button.point_operation,
      input.point_operation 
        font-size: 11px
        padding: 0
        margin: 0
        +heading
        font-weight: bold

      .editpoint:before, &.remove:before
        content: '\2022'
        font-size: 8px
        position: relative
        right: 1px
        color: #e1e1e1

    .read_more
      a.toggle_more, a.toggle
        display: inline-block
        font-size: 11px
        &.hide
          padding: 3px 10px

      .triangle
        font-size: 7pt

      .comment_count
        display: inline-block
        font-size: 10px
        height: 14px
        padding: 0 5px
        text-align: center
        +border-radius(5px)
        position: relative
        vertical-align: top

        &:after
          position: absolute
          content: "\25BC"
          bottom: -6px
          left: 1px
          font-size: 7px
          +transform(20)

  &.point_in_list_margin
    width: 148px
    height: 121px
    cursor: move
    +box-shadow(0px, 2px, 2px, black, 0.8)
    +curl-shadow
    margin-bottom: 18px
    padding: 5px 5px 8px 16px
    color: black

    &:hover
      +paper

      &.pro
        background-color: $pro_point_expanded
      &.con
        background-color: $con_point_expanded

      > .body .nutshell
        //opacity: 1


    &.pro
      background-color: $pro_point_light
      border-right: none
      padding-left: 11px
      padding-right: 10px
      //border-color: $pro_point_dark

    &.con
      background-color: $con_point_light
      border-left: none
      //border-color: $con_point_dark

    .include
      display: none

    .body > .bullet_point 
      display: none
      left: -10px
      top: 0px
      color: #666
      color: rgba(#4C4C4C, .5)

    > .body 
      
      //padding: 0

      .nutshell
        font-size: 11px
        opacity: .8
        color: black
        width: 148px

    .operations        
      bottom: 0px
      left: 10px
      .edit, .remove
        display: none

      > div, >div > div
                  
        a.point_operation, 
        button.point_operation,
        input.point_operation 
          color: #555
          &:hover
            color: black
        
        .editpoint:after, &.remove:after
          color: #555

        .comment_count
          color: #444
          +rgba(#999,.4)  
          &:after
            color: #444
            color: rgba(#999,.4) 


  &.point_in_list_board,
  &.point_in_list_self
      
    //width: 255px
    border-color: transparent
    color: #EEEEEE

    .bullet_point
      left: -10px
      top: 0px

    > .body
      //padding: 3px 5px 3px 13px
            


    .operations
      bottom: -3px

      > div, >div > div
                      
        a.cancel,
        a.point_operation, 
        button.point_operation,
        input.point_operation 
          @include linkify
          color: #aaa
          &:hover
            color: #e1e1e1                

        .editpoint:after, &.remove:after
          color: #aaa

        .deletepointformproper
          position: absolute
          left: -17px
          padding: 3px
          width: 150px
          margin-left: 35px
          
          > *
            vertical-align: middle


        &.read_more
          .comment_count
            color: #bbb
            +rgba(#999,.4)  
            &:after
              color: #bbb
              color: rgba(#999,.4)  


  &.point_in_list_board
    
    width: 310px
    .nutshell
      width: 310px

    > .body .operations
      .bullet
        display: none

  &.point_in_list_self
    width: 232px
    .nutshell
      width: 232px

.point_in_list.expanded
  z-index: 1001
  position: absolute
  min-height: 111px

  &:after, &:before
    content: none

  > .body

    .avatar
      width: 58px
      top: 3px
      position: absolute
      left: -75px

    .full
      //opacity: 0

    .nutshell
      padding-bottom: 0
      position: relative

  .operations
    display: none

  .less.point_text_toggle
    display: none

  .extra    
    color: black
    display: block

    //> *
    //  visibility: hidden

  &.animation_state-expanded
    width: 590px
    padding-right: 90px
    padding-left: 90px

    > .body
      .full
        padding-top: 10px
        opacity: .8
     
    .extra
      visibility: visible
      opacity: 1        

  &.animation_state-finished
    +box-shadow(0px, 1px, 2px, black, .4)

    > .body

      .nutshell

      .full
        //display: block

    > .less
      display: block
      position: absolute
      color: #424242
      right: 5px

  &.pro
    //border-right: 5px solid transparent
    .nutshell
      //left: 0px

  &.con
    //border-left: 5px solid transparent

    .nutshell
      //right: 0px

  &.point_in_list_self, &.point_in_list_board
    +chalkboard
    padding-top: 10px
    padding-bottom: 10px
    margin-top: -10px
    border-color: #414141

    .remove
      display: none

    .extra, body > .nutshell, &.animation_state-finished .toggle.less
      color: #EDEDED

    &.animation_state-expanded

      .full, .nested_user, .link a
        color: #f1f1f1
        opacity: .9

      .link
        padding-bottom: 5px


    &.animation_state-finished
      border-color: white
      .link
        opacity: .9
        .domain
          opacity: .2
        
      .nutshell
        color: white
        //opacity: .9

    .toggle.less
      top: 0

    &.pro 
      .avatar
        //left: 0px

      &.animation_state-expanded
        margin-left: -90px

    &.con 
      .avatar
        //left: 0px
      
      &.animation_state-expanded
        margin-left: -380px

        > .body .nutshell
          //left: 445px


      .extra .less
        right: 0px


  &.point_in_list_margin
    +paper
    cursor: auto
    opacity: 1 // prevents jquery .ui-state-disabled from making it translucent
    height: auto
    
    &.animation_state-expanded
      padding-left: 90px

    > .body .nutshell
      color: black
    
    &:after, &:before
      +box-shadow-remove

    .include
      display: none

    .toggle.less
      top: 0px

    &.pro 
      background-color: $pro_point_expanded

      &.animation_state-expanded
        margin-left: -79px

    &.con 
      background-color: $con_point_expanded  

      &.animation_state-expanded
        margin-left: -601px

      > .body
        .avatar
          //left: -592px
      
      .extra .less
        //right: 0px

.point
  +paper
  +curl-shadow
  padding: 30px 30px
  width: 800px
  min-height: 450px
  margin: auto
  +box-shadow(0px,1px,5px,rgba(black,.4)) 
  &.pro
    background-color: $pro_point_expanded
  &.con
    background-color: $con_point_expanded

  &, a
    +main_font
    color: #333
  a
    text-decoration: underline
    opacity: 1
    &:hover
      color: black

  .meta
    position: absolute  
    top: -25px

  .operations
    position: absolute
    right: 10px
    top: 5px

    .edit
      display: none

  .body
    position: relative

    .pic
      position: absolute
      left: 0px
      top: 5px

      img
        position: relative
        z-index: 1
        +box-shadow(0,0,2px, rgba(black,.2))

      &:after, &:before
        position: absolute
        display: block
        z-index: 1
        content: ''

      &:after
        background: image-url('tape.png') no-repeat top left transparent
        width: 53px
        height: 23px
        right: 14px
        top: -16px
        z-index: 3

      &:before
        background: image-url('pic_background.png') no-repeat top left transparent
        width: 50px
        height: 45px
        left: -10px
        bottom: -5px

    .nutshell, .full, .nested_user
      margin-left: 82px

    h3.nutshell
      font-size: 22pt
      padding-bottom: 10px

    .full
      width: 600px

    .nested_user
      font-style: italic
      padding: 10px 0



  .discuss
    left: 82px