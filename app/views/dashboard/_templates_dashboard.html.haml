

- cache [current_tenant] do 

  = theme_stylesheet_link_tag 'admin'

  = javascript_include_tag 'admin'

  #c-admin-template-loaded


  %script{ :type => "text/template", :id => "tpl_dashboard_app_settings"}
    #app_settings
      %h2
        Application Settings

      = form_for :account, :url => account_path, :remote => true, :method => :put, :html => { :class => 'm-dashboard-edit-account'} do |f|

        .field
          = f.label :app_title, 'Application Title'
          = f.text_field :app_title, :value => "{{account.app_title}}"
          .sublabel
            A short title that is displayed in emails and in the browser window. 

        .field
          = f.label :contact_email, 'Contact Email'
          = f.text_field :contact_email, :value => "{{account.contact_email}}"
          .sublabel
            The email from which notification emails are set. 

        .field  
          = f.check_box :enable_moderation

          = f.label :enable_moderation, 'Enable Moderation'
          .sublabel
            Whether you wish to moderate user contributed content like comments and pro and con points. 

        .field
          = f.check_box :enable_position_statement

          = f.label :enable_position_statement, 'Enable Position Statement'
          .sublabel
            Allow users to write a summary of their position, in addition to their pro/con list and stance. 


        %fieldset
          %legend
            Wording

          %table
            %tr
              %td
                .field
                  = f.label :pro_label, 'Supporting point label'
                  = f.text_field :pro_label, :value => "{{account.pro_label}}"
                  .sublabel
                    Default is "pro"              
              %td
                .field
                  = f.label :con_label, 'Opposing point label'
                  = f.text_field :con_label, :value => "{{account.con_label}}"
                  .sublabel
                    Default is "con"
            %tr
              %td
                .field
                  = f.label :slider_left, 'Supporting slider label'
                  = f.text_field :slider_left, :value => "{{account.slider_left}}"
                  .sublabel
                    Default is "support"
              %td
                .field
                  = f.label :slider_right, 'Opposing slider label'
                  = f.text_field :slider_right, :value => "{{account.slider_right}}"
                  .sublabel
                    Default is "oppose"
          .field
            = f.label :considerations_prompt, 'Header for pro/con list'
            = f.text_field :considerations_prompt, :value => "{{account.considerations_prompt}}"
            .sublabel
              Default is "What are the most important pros and cons to you?"
          .field
            = f.label :slider_prompt, 'Header for stance slider'
            = f.text_field :slider_prompt, :value => "{{account.slider_prompt}}"
            .sublabel
              Default is  "Do you support this proposal?"

        .save_block
          = f.submit 'Save', :class => 'button'


  - if current_tenant.enable_moderation
    = render :partial => "moderatable/templates"

  // TODO: add account switch for assessments
  = render :partial => "assessable/templates"