@import "variables"
@import "compass/css3/box-shadow"
@import "compass/css3/transition"
@import "compass/css3/transform"

//////////////////
// global layout for reasons & points, in different states

// transitions / animations
.reasons_layout //.transitioning
  +transition(transform $transition_speed)
  .opinion_region, .pros_by_community, .cons_by_community
    +transition(transform $transition_speed)


// full reasons width is the width of the pro/con list in the middle and the peer pro/con points in the margins
$full_reasons_width: $decision_board_width + 2 * $point-content-width + 4 * $grid_gutter + 4
$full_reasons_left: -($full_reasons_width - $content_width) / 2


[data-state="results"] .reasons_layout 
  .opinion_region
    +translateY(- 1.5 * $vertical_baseline)

  .pros_by_community
    +translateX($decision_board_width/2)

  .cons_by_community
    +translateX(-$decision_board_width/2)

[data-state="crafting"] .reasons_layout 
  .opinion_region
    +translateY(0)

  .decision_board_body
    min-height: 450px

.reasons_layout  
  top: 0 
  min-height: $histogram_height
  position: relative
  margin: auto
  width: $full_reasons_width
  left: $full_reasons_left

  .pros_by_community .points_by_community
    border-radius: 12px 0 0 12px
    border-right-color: transparent

  .cons_by_community .points_by_community
    border-radius: 0 12px 12px 0
    border-left-color: transparent

  // basic layout

  .points_by_community, .points_on_decision_board, .opinion_region
    display: inline-block
    vertical-align: top


  .pros_by_community, .cons_by_community
    height: 100%
    margin: $vertical_baseline * 2 $grid_gutter 

    .points_by_community
      padding: 0 1.5 * $grid_gutter
      height: 100%

  .pros_by_community .point_author_avatar
    left: -$point-avatar-width - 14
  .cons_by_community .point_author_avatar
    right: -$point-avatar-width - 14



  .point_author_avatar
    // width: $point-avatar-width
    position: absolute

  .point_author_avatar, .point_content
    display: inline-block
    vertical-align: top

  .point_content
    width: $point-content-width


  .points_on_decision_board
    width: $point-width


////////// end layout //////////



.reasons_layout
  margin: 2.5 * $vertical_baseline 0 4 * $vertical_baseline 0
  position: relative
      
  .opinion_region
    // position: relative
    width: $decision_board_width

    &.scrolling_with_user
      position: fixed
      top: 0

  .pros_by_community, .cons_by_community
    //position: absolute
    top: 0
    z-index: 10

  .reasons_footer_region
    visibility: hidden

